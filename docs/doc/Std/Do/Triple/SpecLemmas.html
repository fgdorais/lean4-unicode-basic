<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Std.Do.Triple.SpecLemmas</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Std.Do.Triple.SpecLemmas";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Triple</span>.<span class="name">SpecLemmas</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Std/Do/WP.html">Std.Do.WP</a></li><li><a href="../../.././Init/Data/Range/Polymorphic.html">Init.Data.Range.Polymorphic</a></li><li><a href="../../.././Std/Do/Triple/Basic.html">Std.Do.Triple.Basic</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Std.Do.Triple.SpecLemmas" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Std.Range.toList"><span class="name">Std</span>.<span class="name">Range</span>.<span class="name">toList</span></a></div><div class="nav_link"><a class="break_within" href="#List.Cursor"><span class="name">List</span>.<span class="name">Cursor</span></a></div><div class="nav_link"><a class="break_within" href="#List.Cursor.ext"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">ext</span></a></div><div class="nav_link"><a class="break_within" href="#List.Cursor.ext_iff"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">ext_iff</span></a></div><div class="nav_link"><a class="break_within" href="#List.Cursor.at"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">at</span></a></div><div class="nav_link"><a class="break_within" href="#List.Cursor.begin"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">begin</span></a></div><div class="nav_link"><a class="break_within" href="#List.Cursor.end"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">end</span></a></div><div class="nav_link"><a class="break_within" href="#List.Cursor.current"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">current</span></a></div><div class="nav_link"><a class="break_within" href="#List.Cursor.tail"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">tail</span></a></div><div class="nav_link"><a class="break_within" href="#List.Cursor.prefix_at"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">prefix_at</span></a></div><div class="nav_link"><a class="break_within" href="#List.Cursor.suffix_at"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">suffix_at</span></a></div><div class="nav_link"><a class="break_within" href="#List.Cursor.current_at"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">current_at</span></a></div><div class="nav_link"><a class="break_within" href="#List.Cursor.tail_at"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">tail_at</span></a></div><div class="nav_link"><a class="break_within" href="#List.eq_of_range'_eq_append_cons"><span class="name">List</span>.<span class="name">eq_of_range'_eq_append_cons</span></a></div><div class="nav_link"><a class="break_within" href="#List.length_of_range'_eq_append_cons"><span class="name">List</span>.<span class="name">length_of_range'_eq_append_cons</span></a></div><div class="nav_link"><a class="break_within" href="#List.mem_of_range'_eq_append_cons"><span class="name">List</span>.<span class="name">mem_of_range'_eq_append_cons</span></a></div><div class="nav_link"><a class="break_within" href="#List.gt_of_range'_eq_append_cons"><span class="name">List</span>.<span class="name">gt_of_range'_eq_append_cons</span></a></div><div class="nav_link"><a class="break_within" href="#List.lt_of_range'_eq_append_cons"><span class="name">List</span>.<span class="name">lt_of_range'_eq_append_cons</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.pure'"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">pure'</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.pure"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">pure</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.bind'"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">bind'</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.bind"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">bind</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.map"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">map</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.seq"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">seq</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.monadLift_StateT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadLift_StateT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.monadLift_ReaderT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadLift_ReaderT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.monadLift_ExceptT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadLift_ExceptT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.monadMap_StateT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadMap_StateT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.monadMap_ReaderT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadMap_ReaderT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.monadMap_ExceptT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadMap_ExceptT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.monadMap_trans"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadMap_trans</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.monadMap_refl"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadMap_refl</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.read_ReaderT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">read_ReaderT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.withReader_ReaderT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">withReader_ReaderT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.get_StateT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">get_StateT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.set_StateT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">set_StateT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.modifyGet_StateT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">modifyGet_StateT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.run_ExceptT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">run_ExceptT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.throw_ExceptT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">throw_ExceptT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.tryCatch_ExceptT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">tryCatch_ExceptT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.throw_Except"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">throw_Except</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.tryCatch_Except"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">tryCatch_Except</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.get_EStateM"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">get_EStateM</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.set_EStateM"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">set_EStateM</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.modifyGet_EStateM"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">modifyGet_EStateM</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.throw_EStateM"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">throw_EStateM</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.tryCatch_EStateM"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">tryCatch_EStateM</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.throw_MonadExcept"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">throw_MonadExcept</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.tryCatch_MonadExcept"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">tryCatch_MonadExcept</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.throw_ReaderT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">throw_ReaderT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.throw_StateT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">throw_StateT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.throw_ExceptT_lift"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">throw_ExceptT_lift</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.tryCatch_ReaderT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">tryCatch_ReaderT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.tryCatch_StateT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">tryCatch_StateT</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.tryCatch_ExceptT_lift"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">tryCatch_ExceptT_lift</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Invariant"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Invariant</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Invariant.withEarlyReturn"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Invariant</span>.<span class="name">withEarlyReturn</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.forIn'_list"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn'_list</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.forIn'_list_const_inv"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn'_list_const_inv</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.forIn_list"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn_list</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.forIn_list_const_inv"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn_list_const_inv</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.foldlM_list"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">foldlM_list</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.foldlM_list_const_inv"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">foldlM_list_const_inv</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.forIn'_range"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn'_range</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.forIn_range"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn_range</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.forIn'_prange"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn'_prange</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.forIn_prange"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn_prange</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.forIn'_array"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn'_array</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.forIn_array"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn_array</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Do.Spec.foldlM_array"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">foldlM_array</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="Hoare-triple-specifications-for-select-functions">Hoare triple specifications for select functions <a class="hover-link" href="#Hoare-triple-specifications-for-select-functions">#</a></h1><p>This module contains Hoare triple specifications for some functions in Core.</p></div><div class="decl" id="Std.Range.toList"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L23-L24">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Range.toList"><span class="name">Std</span>.<span class="name">Range</span>.<span class="name">toList</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <a href="../../.././Init/Data/Range/Basic.html#Std.Range">Range</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">r</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Range.toList">toList</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/List/Basic.html#List.range'">List.range'</a> <span class="fn"><span class="fn">r</span>.<a href="../../.././Init/Data/Range/Basic.html#Std.Range.start">start</a></span> ((<span class="fn"><span class="fn">r</span>.<a href="../../.././Init/Data/Range/Basic.html#Std.Range.stop">stop</a></span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">r</span>.<a href="../../.././Init/Data/Range/Basic.html#Std.Range.start">start</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">r</span>.<a href="../../.././Init/Data/Range/Basic.html#Std.Range.step">step</a></span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>) <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><span class="fn">r</span>.<a href="../../.././Init/Data/Range/Basic.html#Std.Range.step">step</a></span>) <span class="fn"><span class="fn">r</span>.<a href="../../.././Init/Data/Range/Basic.html#Std.Range.step">step</a></span></span></li></ul></details><details id="instances-for-list-Std.Range.toList" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="List.Cursor"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L30-L34">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor"><span class="name">List</span>.<span class="name">Cursor</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a> u</div></div><ul class="structure_fields" id="List.Cursor.mk"><li id="List.Cursor.prefix" class="structure_field"><div class="structure_field_info">prefix : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span></div></li><li id="List.Cursor.suffix" class="structure_field"><div class="structure_field_info">suffix : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span></div></li><li id="List.Cursor.property" class="structure_field"><div class="structure_field_info">property : <span class="fn"><span class="fn">self</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.prefix">prefix</a></span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><span class="fn">self</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.suffix">suffix</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">l</span></div></li></ul><details id="instances-for-list-List.Cursor" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="List.Cursor.ext"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L30-L30">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.ext"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">ext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><span class="fn">l</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor">Cursor</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">«prefix»</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.prefix">prefix</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.prefix">prefix</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">suffix</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.suffix">suffix</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.suffix">suffix</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">y</span></div></div></div></div><div class="decl" id="List.Cursor.ext_iff"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L30-L30">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.ext_iff"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">ext_iff</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><span class="fn">l</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor">Cursor</a></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">y</span> <a href="../../.././Init/Core.html#Iff">↔</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.prefix">prefix</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.prefix">prefix</a></span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.suffix">suffix</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.suffix">suffix</a></span></div></div></div></div><div class="decl" id="List.Cursor.at"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L36-L36">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.at"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">at</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">l</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor">Cursor</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.at">List.Cursor.at</a> <span class="fn">l</span> <span class="fn">n</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn"><a href="../../.././Init/Data/List/Basic.html#List.take">List.take</a> <span class="fn">n</span> <span class="fn">l</span></span>, <span class="fn">suffix</span> := <span class="fn"><a href="../../.././Init/Data/List/Basic.html#List.drop">List.drop</a> <span class="fn">n</span> <span class="fn">l</span></span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a></li></ul></details><details id="instances-for-list-List.Cursor.at" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="List.Cursor.begin"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L37-L37">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.begin"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">begin</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">l</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor">Cursor</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.begin">List.Cursor.begin</a> <span class="fn">l</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.at">List.Cursor.at</a> <span class="fn">l</span> <span class="fn">0</span></span></li></ul></details><details id="instances-for-list-List.Cursor.begin" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="List.Cursor.end"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L38-L38">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.end"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">end</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">l</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor">Cursor</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.end">List.Cursor.end</a> <span class="fn">l</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.at">List.Cursor.at</a> <span class="fn">l</span> <span class="fn"><span class="fn">l</span>.<a href="../../.././Init/Prelude.html#List.length">length</a></span></span></li></ul></details><details id="instances-for-list-List.Cursor.end" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="List.Cursor.current"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L40-L41">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.current"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">current</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <span class="fn"><span class="fn">l</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor">Cursor</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">c</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.suffix">suffix</a></span>.<a href="../../.././Init/Prelude.html#List.length">length</a></span> := by get_elem_tactic)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">α</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">c</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.current">current</a></span> <span class="fn">h</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">c</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.suffix">suffix</a></span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">0</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a></li></ul></details><details id="instances-for-list-List.Cursor.current" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="List.Cursor.tail"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L43-L48">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.tail"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">tail</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α✝</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α✝</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <span class="fn"><span class="fn">l</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor">Cursor</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">s</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.suffix">suffix</a></span>.<a href="../../.././Init/Prelude.html#List.length">length</a></span> := by get_elem_tactic)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">l</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor">Cursor</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">s</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.tail">tail</a></span> <span class="fn">h</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn"><span class="fn">s</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.prefix">prefix</a></span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn"><span class="fn"><span class="fn">s</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.current">current</a></span> <span class="fn">h</span></span><a href="../../.././Init/Prelude.html#List.cons">]</a>, <span class="fn">suffix</span> := <span class="fn"><span class="fn"><span class="fn">s</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.suffix">suffix</a></span>.<a href="../../.././Init/Data/List/Basic.html#List.tail">tail</a></span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a></li></ul></details><details id="instances-for-list-List.Cursor.tail" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="List.Cursor.prefix_at"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L50-L50">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.prefix_at"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">prefix_at</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.at">«at»</a> <span class="fn">l</span> <span class="fn">n</span>)</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.prefix">prefix</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/List/Basic.html#List.take">take</a> <span class="fn">n</span> <span class="fn">l</span></span></div></div></div></div><div class="decl" id="List.Cursor.suffix_at"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L51-L51">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.suffix_at"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">suffix_at</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.at">«at»</a> <span class="fn">l</span> <span class="fn">n</span>)</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.suffix">suffix</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/List/Basic.html#List.drop">drop</a> <span class="fn">n</span> <span class="fn">l</span></span></div></div></div></div><div class="decl" id="List.Cursor.current_at"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L52-L54">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.current_at"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">current_at</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">n</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">l</span>.<a href="../../.././Init/Prelude.html#List.length">length</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.at">«at»</a> <span class="fn">l</span> <span class="fn">n</span>)</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.current">current</a></span> <span class="fn">⋯</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">l</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">n</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a></div></div></div></div><div class="decl" id="List.Cursor.tail_at"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L55-L57">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.tail_at"><span class="name">List</span>.<span class="name">Cursor</span>.<span class="name">tail_at</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">n</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">l</span>.<a href="../../.././Init/Prelude.html#List.length">length</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.at">«at»</a> <span class="fn">l</span> <span class="fn">n</span>)</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.tail">tail</a></span> <span class="fn">⋯</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.at">«at»</a> <span class="fn">l</span> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span></div></div></div></div><div class="decl" id="List.eq_of_range'_eq_append_cons"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L59-L67">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.eq_of_range'_eq_append_cons"><span class="name">List</span>.<span class="name">eq_of_range'_eq_append_cons</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">s </span><span class="fn">n </span><span class="fn">step</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">cur</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ys</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/List/Basic.html#List.range'">range'</a> <span class="fn">s</span> <span class="fn">n</span> <span class="fn">step</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">xs</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">ys</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">cur</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">s</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">step</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#List.length">length</a></span></div></div></div></div><div class="decl" id="List.length_of_range'_eq_append_cons"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L69-L73">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.length_of_range'_eq_append_cons"><span class="name">List</span>.<span class="name">length_of_range'_eq_append_cons</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">s </span><span class="fn">n </span><span class="fn">step</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">cur</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ys</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/List/Basic.html#List.range'">range'</a> <span class="fn">s</span> <span class="fn">n</span> <span class="fn">step</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">xs</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">ys</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">n</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#List.length">length</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">ys</span>.<a href="../../.././Init/Prelude.html#List.length">length</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></div></div></div></div><div class="decl" id="List.mem_of_range'_eq_append_cons"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L75-L77">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.mem_of_range'_eq_append_cons"><span class="name">List</span>.<span class="name">mem_of_range'_eq_append_cons</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">s </span><span class="fn">n </span><span class="fn">step</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ys</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/List/Basic.html#List.range'">range'</a> <span class="fn">s</span> <span class="fn">n</span> <span class="fn">step</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">xs</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">i</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">ys</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">i</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn"><a href="../../.././Init/Data/List/Basic.html#List.range'">range'</a> <span class="fn">s</span> <span class="fn">n</span> <span class="fn">step</span></span></div></div></div></div><div class="decl" id="List.gt_of_range'_eq_append_cons"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L79-L87">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.gt_of_range'_eq_append_cons"><span class="name">List</span>.<span class="name">gt_of_range'_eq_append_cons</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">s </span><span class="fn">n </span><span class="fn">step</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ys</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">j</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/List/Basic.html#List.range'">range'</a> <span class="fn">s</span> <span class="fn">n</span> <span class="fn">step</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">xs</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">i</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">ys</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hstep</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">step</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hj</span> : <span class="fn">j</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">xs</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">j</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">i</span></div></div></div></div><div class="decl" id="List.lt_of_range'_eq_append_cons"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L89-L95">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#List.lt_of_range'_eq_append_cons"><span class="name">List</span>.<span class="name">lt_of_range'_eq_append_cons</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">s </span><span class="fn">n </span><span class="fn">step</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ys</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">j</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/List/Basic.html#List.range'">range'</a> <span class="fn">s</span> <span class="fn">n</span> <span class="fn">step</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">xs</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">i</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">ys</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hstep</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">step</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hj</span> : <span class="fn">j</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">ys</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">j</span></div></div></div></div><div class="mod_doc"><h1 class="markdown-heading" id="Monad"><code><a href="../../.././Init/Prelude.html#Monad">Monad</a></code> <a class="hover-link" href="#Monad">#</a></h1></div><div class="decl" id="Std.Do.Spec.pure'"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L106-L108">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.pure'"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">pure'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a</span> : <span class="fn">α</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">P</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.Assertion">Assertion</a> <span class="fn">ps</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">ps</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">P</span> <a href="../../.././Std/Do/SPred/SPred.html#Std.Do.SPred.entails">⊢ₛ</a> <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">a</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">P</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">Pure.pure</a> <span class="fn">a</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.pure"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L110-L112">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.pure"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">pure</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a</span> : <span class="fn">α</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">ps</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">a</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">Pure.pure</a> <span class="fn">a</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.bind'"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L114-L116">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.bind'"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">bind'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><span class="fn">m</span> <span class="fn">β</span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">P</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.Assertion">Assertion</a> <span class="fn">ps</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">β</span> <span class="fn">ps</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">P</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn">x</span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><span class="fn">f</span> <span class="fn">a</span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <span class="fn">Q</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">P</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#Bind.bind">&gt;&gt;=</a> <span class="fn">f</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.bind"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L118-L120">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.bind"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">bind</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><span class="fn">m</span> <span class="fn">β</span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">β</span> <span class="fn">ps</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn">x</span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><span class="fn">f</span> <span class="fn">a</span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <span class="fn">Q</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#Bind.bind">&gt;&gt;=</a> <span class="fn">f</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.map"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L122-L124">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.map"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">map</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn">β</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">β</span> <span class="fn">ps</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn">x</span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">(<span class="fn">f</span> <span class="fn">a</span>)</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> (<span class="fn">f</span> <a href="../../.././Init/Prelude.html#Functor.map">&lt;$&gt;</a> <span class="fn">x</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.seq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L126-L128">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.seq"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">seq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">(<span class="fn">α</span> → <span class="fn">β</span>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">β</span> <span class="fn">ps</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn">x</span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn">β</span></span>) =&gt; <span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn">y</span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">(<span class="fn">f</span> <span class="fn">a</span>)</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn">(<span class="fn">x</span> &lt;*&gt; <span class="fn">y</span>)</span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="mod_doc"><h1 class="markdown-heading" id="MonadLift"><code><a href="../../.././Init/Prelude.html#MonadLift">MonadLift</a></code> <a class="hover-link" href="#MonadLift">#</a></h1></div><div class="decl" id="Std.Do.Spec.monadLift_StateT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L132-L134">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.monadLift_StateT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadLift_StateT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">σ</span> <span class="fn">ps</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">fun</a> (<span class="fn">s</span> : <span class="fn">σ</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">=&gt;</a> <span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn">x</span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">a</span> <span class="fn">s</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadLift.monadLift">MonadLift.monadLift</a> <span class="fn">x</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.monadLift_ReaderT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L136-L138">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.monadLift_ReaderT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadLift_ReaderT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">ρ</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">ρ</span> <span class="fn">ps</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">fun</a> (<span class="fn">s</span> : <span class="fn">ρ</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">=&gt;</a> <span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn">x</span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">a</span> <span class="fn">s</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadLift.monadLift">MonadLift.monadLift</a> <span class="fn">x</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.monadLift_ExceptT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L140-L145">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.monadLift_ExceptT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadLift_ExceptT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">ε</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.except">PostShape.except</a> <span class="fn">ε</span> <span class="fn">ps</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn">x</span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">a</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadLift.monadLift">MonadLift.monadLift</a> <span class="fn">x</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="mod_doc"><h1 class="markdown-heading" id="MonadLiftT"><code><a href="../../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a></code> <a class="hover-link" href="#MonadLiftT">#</a></h1></div><div class="mod_doc"><h1 class="markdown-heading" id="MonadFunctor"><code><a href="../../.././Init/Prelude.html#MonadFunctor">MonadFunctor</a></code> <a class="hover-link" href="#MonadFunctor">#</a></h1></div><div class="decl" id="Std.Do.Spec.monadMap_StateT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L153-L156">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.monadMap_StateT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadMap_StateT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Basic.html#Std.Do.WP">WP</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u} → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">β</span></span> → <span class="fn"><span class="fn">m</span> <span class="fn">β</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">σ</span> <span class="fn">ps</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">fun</a> (<span class="fn">s</span> : <span class="fn">σ</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">=&gt;</a>
  <span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><span class="fn">f</span> <span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Control/State.html#StateT.run">run</a></span> <span class="fn">s</span>)</span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a>
    <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">x</span> : <span class="fn">α</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">σ</span>) =&gt;
      <span class="fn">match <span class="fn">x</span> with
      | <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">a</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">s</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">a</span> <span class="fn">s</span></span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a>       <span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Prelude.html#MonadFunctor.monadMap">MonadFunctor.monadMap</a> <span class="fn">(fun {<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u} =&gt; <span class="fn">f</span>)</span> <span class="fn">x</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.monadMap_ReaderT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L158-L161">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.monadMap_ReaderT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadMap_ReaderT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ρ</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Basic.html#Std.Do.WP">WP</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u} → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">β</span></span> → <span class="fn"><span class="fn">m</span> <span class="fn">β</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#ReaderT">ReaderT</a> <span class="fn">ρ</span> <span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">ρ</span> <span class="fn">ps</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">fun</a> (<span class="fn">s</span> : <span class="fn">ρ</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">=&gt;</a> <span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><span class="fn">f</span> <span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Prelude.html#ReaderT.run">run</a></span> <span class="fn">s</span>)</span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">a</span> <span class="fn">s</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadFunctor.monadMap">MonadFunctor.monadMap</a> <span class="fn">(fun {<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u} =&gt; <span class="fn">f</span>)</span> <span class="fn">x</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.monadMap_ExceptT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L163-L169">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.monadMap_ExceptT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadMap_ExceptT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Basic.html#Std.Do.WP">WP</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u} → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">β</span></span> → <span class="fn"><span class="fn">m</span> <span class="fn">β</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Control/Except.html#ExceptT">ExceptT</a> <span class="fn">ε</span> <span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.except">PostShape.except</a> <span class="fn">ε</span> <span class="fn">ps</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Control/Except.html#ExceptT.run">run</a></span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a>
    <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε</span> <span class="fn">α</span></span>) =&gt;
      <span class="fn">match <span class="fn">x</span> with
      | <span class="fn"><a href="../../.././Init/Prelude.html#Except.ok">Except.ok</a> <span class="fn">a</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">a</span></span>
      | <span class="fn"><a href="../../.././Init/Prelude.html#Except.error">Except.error</a> <span class="fn">e</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">e</span></span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a>       <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Prelude.html#MonadFunctor.monadMap">MonadFunctor.monadMap</a> <span class="fn">(fun {<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u} =&gt; <span class="fn">f</span>)</span> <span class="fn">x</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="mod_doc"><h1 class="markdown-heading" id="MonadFunctorT"><code><a href="../../.././Init/Prelude.html#MonadFunctorT">MonadFunctorT</a></code> <a class="hover-link" href="#MonadFunctorT">#</a></h1></div><div class="decl" id="Std.Do.Spec.monadMap_trans"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L173-L178">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.monadMap_trans"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadMap_trans</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">o</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> u_2</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u} → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">β</span></span> → <span class="fn"><span class="fn">m</span> <span class="fn">β</span></span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><span class="fn">o</span> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">ps</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Basic.html#Std.Do.WP">WP</a> <span class="fn">o</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#MonadFunctor">MonadFunctor</a> <span class="fn">n</span> <span class="fn">o</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#MonadFunctorT">MonadFunctorT</a> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><a href="../../.././Init/Prelude.html#MonadFunctor.monadMap">MonadFunctor.monadMap</a> <span class="fn">(fun {<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u} =&gt; <span class="fn"><a href="../../.././Init/Prelude.html#MonadFunctorT.monadMap">monadMap</a> <span class="fn">fun {<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u} =&gt; <span class="fn">f</span></span></span>)</span> <span class="fn">x</span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <span class="fn">Q</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadFunctorT.monadMap">monadMap</a> <span class="fn">f</span> <span class="fn">x</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.monadMap_refl"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L180-L182">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.monadMap_refl"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">monadMap_refl</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u} → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">β</span></span> → <span class="fn"><span class="fn">m</span> <span class="fn">β</span></span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">ps</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Basic.html#Std.Do.WP">WP</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><span class="fn">f</span> <span class="fn">x</span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <span class="fn">Q</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadFunctorT.monadMap">monadMap</a> <span class="fn">f</span> <span class="fn">x</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="mod_doc"><h1 class="markdown-heading" id="ReaderT"><code><a href="../../.././Init/Prelude.html#ReaderT">ReaderT</a></code> <a class="hover-link" href="#ReaderT">#</a></h1></div><div class="decl" id="Std.Do.Spec.read_ReaderT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L188-L190">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.read_ReaderT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">read_ReaderT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">psm</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ρ</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">ρ</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">ρ</span> <span class="fn">psm</span>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">psm</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">fun</a> (<span class="fn">r</span> : <span class="fn">ρ</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">=&gt;</a> <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">r</span> <span class="fn">r</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <a href="../../.././Init/Prelude.html#MonadReaderOf.read">MonadReaderOf.read</a> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.withReader_ReaderT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L192-L194">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.withReader_ReaderT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">withReader_ReaderT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">psm</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ρ </span><span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><span class="fn">ρ</span> → <span class="fn">ρ</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#ReaderT">ReaderT</a> <span class="fn">ρ</span> <span class="fn">m</span> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">ρ</span> <span class="fn">psm</span>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">psm</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">fun</a> (<span class="fn">r</span> : <span class="fn">ρ</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">=&gt;</a> <span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn">x</span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">a</span> : <span class="fn">α</span>) (<span class="fn">x</span> : <span class="fn">ρ</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">a</span> <span class="fn">r</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> <span class="fn">(<span class="fn">f</span> <span class="fn">r</span>)</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadWithReaderOf.withReader">MonadWithReaderOf.withReader</a> <span class="fn">f</span> <span class="fn">x</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="mod_doc"><h1 class="markdown-heading" id="StateT"><code><a href="../../.././Init/Control/State.html#StateT">StateT</a></code> <a class="hover-link" href="#StateT">#</a></h1></div><div class="decl" id="Std.Do.Spec.get_StateT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L200-L202">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.get_StateT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">get_StateT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">psm</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">σ</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">σ</span> <span class="fn">psm</span>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">psm</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">fun</a> (<span class="fn">s</span> : <span class="fn">σ</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">=&gt;</a> <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">s</span> <span class="fn">s</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <a href="../../.././Init/Prelude.html#MonadStateOf.get">MonadStateOf.get</a> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.set_StateT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L204-L206">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.set_StateT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">set_StateT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">psm</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">s</span> : <span class="fn">σ</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <a href="../../.././Init/Prelude.html#PUnit">PUnit</a> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">σ</span> <span class="fn">psm</span>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">psm</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">fun</a> (<span class="fn">x</span> : <span class="fn">σ</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">=&gt;</a> <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#PUnit.unit">PUnit.unit</a> <span class="fn">s</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadStateOf.set">set</a> <span class="fn">s</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.modifyGet_StateT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L208-L211">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.modifyGet_StateT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">modifyGet_StateT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ </span><span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><span class="fn">σ</span> → <span class="fn">α</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">σ</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">σ</span> <span class="fn">ps</span>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">fun</a> (<span class="fn">s</span> : <span class="fn">σ</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">=&gt;</a>
  <span class="fn">have <span class="fn">t</span> := <span class="fn"><span class="fn">f</span> <span class="fn">s</span></span>;
  <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn"><span class="fn">t</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn"><span class="fn">t</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span></span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Prelude.html#MonadStateOf.modifyGet">MonadStateOf.modifyGet</a> <span class="fn">f</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="mod_doc"><h1 class="markdown-heading" id="ExceptT"><code><a href="../../.././Init/Control/Except.html#ExceptT">ExceptT</a></code> <a class="hover-link" href="#ExceptT">#</a></h1></div><div class="decl" id="Std.Do.Spec.run_ExceptT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L215-L220">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.run_ExceptT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">run_ExceptT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε</span> <span class="fn">α</span>)</span> <span class="fn">ps</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Basic.html#Std.Do.WP">WP</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Control/Except.html#ExceptT">ExceptT</a> <span class="fn">ε</span> <span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn">x</span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">(<a href="../../.././Init/Prelude.html#Except.ok">Except.ok</a> <span class="fn">a</span>)</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">fun (<span class="fn">e</span> : <span class="fn">ε</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">(<a href="../../.././Init/Prelude.html#Except.error">Except.error</a> <span class="fn">e</span>)</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Control/Except.html#ExceptT.run">run</a></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.throw_ExceptT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L222-L225">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.throw_ExceptT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">throw_ExceptT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">e</span> : <span class="fn">ε</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.except">PostShape.except</a> <span class="fn">ε</span> <span class="fn">ps</span>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">e</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.throw">MonadExceptOf.throw</a> <span class="fn">e</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.tryCatch_ExceptT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L227-L230">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.tryCatch_ExceptT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">tryCatch_ExceptT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">ε</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Control/Except.html#ExceptT">ExceptT</a> <span class="fn">ε</span> <span class="fn">m</span> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">h</span> : <span class="fn"><span class="fn">ε</span> → <span class="fn"><a href="../../.././Init/Control/Except.html#ExceptT">ExceptT</a> <span class="fn">ε</span> <span class="fn">m</span> <span class="fn">α</span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.except">PostShape.except</a> <span class="fn">ε</span> <span class="fn">ps</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn">x</span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">fun (<span class="fn">e</span> : <span class="fn">ε</span>) =&gt; <span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><span class="fn">h</span> <span class="fn">e</span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <span class="fn">Q</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.tryCatch">MonadExceptOf.tryCatch</a> <span class="fn">x</span> <span class="fn">h</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="mod_doc"><h1 class="markdown-heading" id="Except"><code><a href="../../.././Init/Prelude.html#Except">Except</a></code> <a class="hover-link" href="#Except">#</a></h1></div><div class="decl" id="Std.Do.Spec.throw_Except"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L234-L236">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.throw_Except"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">throw_Except</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">e</span> : <span class="fn">ε</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.except">PostShape.except</a> <span class="fn">ε</span> <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.pure">PostShape.pure</a>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">e</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.throw">MonadExceptOf.throw</a> <span class="fn">e</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.tryCatch_Except"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L238-L241">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.tryCatch_Except"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">tryCatch_Except</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">ε</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε</span> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">h</span> : <span class="fn"><span class="fn">ε</span> → <span class="fn"><a href="../../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε</span> <span class="fn">α</span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.except">PostShape.except</a> <span class="fn">ε</span> <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.pure">PostShape.pure</a>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn">x</span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">fun (<span class="fn">e</span> : <span class="fn">ε</span>) =&gt; <span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><span class="fn">h</span> <span class="fn">e</span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <span class="fn">Q</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.tryCatch">MonadExceptOf.tryCatch</a> <span class="fn">x</span> <span class="fn">h</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="mod_doc"><h1 class="markdown-heading" id="EStateM"><code><a href="../../.././Init/Prelude.html#EStateM">EStateM</a></code> <a class="hover-link" href="#EStateM">#</a></h1></div><div class="decl" id="Std.Do.Spec.get_EStateM"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L245-L247">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.get_EStateM"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">get_EStateM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">σ</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.except">PostShape.except</a> <span class="fn">ε</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">σ</span> <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.pure">PostShape.pure</a>)</span>)</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">fun</a> (<span class="fn">s</span> : <span class="fn">σ</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">=&gt;</a> <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">s</span> <span class="fn">s</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <a href="../../.././Init/Prelude.html#MonadStateOf.get">MonadStateOf.get</a> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.set_EStateM"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L249-L251">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.set_EStateM"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">set_EStateM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">s</span> : <span class="fn">σ</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <a href="../../.././Init/Prelude.html#PUnit">PUnit</a> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.except">PostShape.except</a> <span class="fn">ε</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">σ</span> <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.pure">PostShape.pure</a>)</span>)</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">fun</a> (<span class="fn">x</span> : <span class="fn">σ</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">=&gt;</a> <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Unit.unit">(</a><a href="../../.././Init/Prelude.html#Unit.unit">)</a> <span class="fn">s</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadStateOf.set">set</a> <span class="fn">s</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.modifyGet_EStateM"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L253-L255">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.modifyGet_EStateM"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">modifyGet_EStateM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">σ </span><span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><span class="fn">σ</span> → <span class="fn">α</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">σ</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.except">PostShape.except</a> <span class="fn">ε</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">σ</span> <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.pure">PostShape.pure</a>)</span>)</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">fun</a> (<span class="fn">s</span> : <span class="fn">σ</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">=&gt;</a>
  <span class="fn">have <span class="fn">t</span> := <span class="fn"><span class="fn">f</span> <span class="fn">s</span></span>;
  <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn"><span class="fn">t</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn"><span class="fn">t</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span></span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Prelude.html#MonadStateOf.modifyGet">MonadStateOf.modifyGet</a> <span class="fn">f</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.throw_EStateM"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L257-L259">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.throw_EStateM"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">throw_EStateM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">σ </span><span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">e</span> : <span class="fn">ε</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.except">PostShape.except</a> <span class="fn">ε</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">σ</span> <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.pure">PostShape.pure</a>)</span>)</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">e</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.throw">MonadExceptOf.throw</a> <span class="fn">e</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.tryCatch_EStateM"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L262-L265">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.tryCatch_EStateM"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">tryCatch_EStateM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">ε </span><span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#EStateM">EStateM</a> <span class="fn">ε</span> <span class="fn">σ</span> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">h</span> : <span class="fn"><span class="fn">ε</span> → <span class="fn"><a href="../../.././Init/Prelude.html#EStateM">EStateM</a> <span class="fn">ε</span> <span class="fn">σ</span> <span class="fn">α</span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.except">PostShape.except</a> <span class="fn">ε</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">σ</span> <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.pure">PostShape.pure</a>)</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">fun</a> (<span class="fn">s</span> : <span class="fn">σ</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">=&gt;</a>
  <span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn">x</span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a>
    <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">fun (<span class="fn">e</span> : <span class="fn">ε</span>) (<span class="fn">s'</span> : <span class="fn">σ</span>) =&gt; <span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><span class="fn">h</span> <span class="fn">e</span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <span class="fn">Q</span> <span class="fn">(<a href="../../.././Init/Prelude.html#EStateM.Backtrackable.restore">EStateM.Backtrackable.restore</a> <span class="fn">s'</span> <span class="fn">(<a href="../../.././Init/Prelude.html#EStateM.Backtrackable.save">EStateM.Backtrackable.save</a> <span class="fn">s</span>)</span>)</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a>       <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a>
    <span class="fn">s</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.tryCatch">MonadExceptOf.tryCatch</a> <span class="fn">x</span> <span class="fn">h</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="mod_doc"><h1 class="markdown-heading" id="Lifting-MonadStateOf">Lifting <code><a href="../../.././Init/Prelude.html#MonadStateOf">MonadStateOf</a></code> <a class="hover-link" href="#Lifting-MonadStateOf">#</a></h1></div><div class="mod_doc"><h1 class="markdown-heading" id="Lifting-MonadReaderOf">Lifting <code><a href="../../.././Init/Prelude.html#MonadReaderOf">MonadReaderOf</a></code> <a class="hover-link" href="#Lifting-MonadReaderOf">#</a></h1></div><div class="mod_doc"><h1 class="markdown-heading" id="Lifting-MonadExceptOf">Lifting <code><a href="../../.././Init/Prelude.html#MonadExceptOf">MonadExceptOf</a></code> <a class="hover-link" href="#Lifting-MonadExceptOf">#</a></h1></div><div class="decl" id="Std.Do.Spec.throw_MonadExcept"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L282-L284">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.throw_MonadExcept"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">throw_MonadExcept</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">e</span> : <span class="fn">ε</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps✝</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">ps✝</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf">MonadExceptOf</a> <span class="fn">ε</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Basic.html#Std.Do.WP">WP</a> <span class="fn">m</span> <span class="fn">ps✝</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.throw">MonadExceptOf.throw</a> <span class="fn">e</span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <span class="fn">Q</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadExcept.throw">throw</a> <span class="fn">e</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.tryCatch_MonadExcept"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L286-L288">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.tryCatch_MonadExcept"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">tryCatch_MonadExcept</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">h</span> : <span class="fn"><span class="fn">ε</span> → <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf">MonadExceptOf</a> <span class="fn">ε</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Basic.html#Std.Do.WP">WP</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">ps</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.tryCatch">MonadExceptOf.tryCatch</a> <span class="fn">x</span> <span class="fn">h</span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <span class="fn">Q</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadExcept.tryCatch">tryCatch</a> <span class="fn">x</span> <span class="fn">h</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.throw_ReaderT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L290-L292">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.throw_ReaderT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">throw_ReaderT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">sh</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ρ </span><span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">e</span> : <span class="fn">ε</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">ρ</span> <span class="fn">sh</span>)</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Basic.html#Std.Do.WP">WP</a> <span class="fn">m</span> <span class="fn">sh</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf">MonadExceptOf</a> <span class="fn">ε</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><a href="../../.././Init/Prelude.html#MonadLift.monadLift">MonadLift.monadLift</a> <span class="fn">(<a href="../../.././Init/Prelude.html#MonadExceptOf.throw">MonadExceptOf.throw</a> <span class="fn">e</span>)</span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <span class="fn">Q</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.throw">MonadExceptOf.throw</a> <span class="fn">e</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.throw_StateT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L294-L296">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.throw_StateT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">throw_StateT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">e</span> : <span class="fn">ε</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Basic.html#Std.Do.WP">WP</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf">MonadExceptOf</a> <span class="fn">ε</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">σ</span> <span class="fn">ps</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><a href="../../.././Init/Prelude.html#MonadLift.monadLift">MonadLift.monadLift</a> <span class="fn">(<a href="../../.././Init/Prelude.html#MonadExceptOf.throw">MonadExceptOf.throw</a> <span class="fn">e</span>)</span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <span class="fn">Q</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.throw">MonadExceptOf.throw</a> <span class="fn">e</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.throw_ExceptT_lift"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L298-L308">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.throw_ExceptT_lift"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">throw_ExceptT_lift</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α </span><span class="fn">ε'</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">e</span> : <span class="fn">ε</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Basic.html#Std.Do.WP">WP</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf">MonadExceptOf</a> <span class="fn">ε</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.except">PostShape.except</a> <span class="fn">ε'</span> <span class="fn">ps</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.throw">MonadExceptOf.throw</a> <span class="fn">e</span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a>
    <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε'</span> <span class="fn">α</span></span>) =&gt;
      <span class="fn">match <span class="fn">x</span> with
      | <span class="fn"><a href="../../.././Init/Prelude.html#Except.ok">Except.ok</a> <span class="fn">a</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">a</span></span>
      | <span class="fn"><a href="../../.././Init/Prelude.html#Except.error">Except.error</a> <span class="fn">e</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">e</span></span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a>       <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.throw">MonadExceptOf.throw</a> <span class="fn">e</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.tryCatch_ReaderT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L310-L312">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.tryCatch_ReaderT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">tryCatch_ReaderT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">ρ</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#ReaderT">ReaderT</a> <span class="fn">ρ</span> <span class="fn">m</span> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">h</span> : <span class="fn"><span class="fn">ε</span> → <span class="fn"><a href="../../.././Init/Prelude.html#ReaderT">ReaderT</a> <span class="fn">ρ</span> <span class="fn">m</span> <span class="fn">α</span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Basic.html#Std.Do.WP">WP</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf">MonadExceptOf</a> <span class="fn">ε</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">ρ</span> <span class="fn">ps</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">fun</a> (<span class="fn">r</span> : <span class="fn">ρ</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">=&gt;</a> <span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.tryCatch">MonadExceptOf.tryCatch</a> <span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Prelude.html#ReaderT.run">run</a></span> <span class="fn">r</span>)</span> <span class="fn">fun (<span class="fn">e</span> : <span class="fn">ε</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">(<span class="fn">h</span> <span class="fn">e</span>)</span>.<a href="../../.././Init/Prelude.html#ReaderT.run">run</a></span> <span class="fn">r</span></span></span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">a</span> <span class="fn">r</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.tryCatch">MonadExceptOf.tryCatch</a> <span class="fn">x</span> <span class="fn">h</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.tryCatch_StateT"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L314-L316">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.tryCatch_StateT"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">tryCatch_StateT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">σ</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <span class="fn">m</span> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">h</span> : <span class="fn"><span class="fn">ε</span> → <span class="fn"><a href="../../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">σ</span> <span class="fn">m</span> <span class="fn">α</span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Basic.html#Std.Do.WP">WP</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf">MonadExceptOf</a> <span class="fn">ε</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.arg">PostShape.arg</a> <span class="fn">σ</span> <span class="fn">ps</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">fun</a> (<span class="fn">s</span> : <span class="fn">σ</span>) <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">=&gt;</a>
  <span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.tryCatch">MonadExceptOf.tryCatch</a> <span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Control/State.html#StateT.run">run</a></span> <span class="fn">s</span>)</span> <span class="fn">fun (<span class="fn">e</span> : <span class="fn">ε</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">(<span class="fn">h</span> <span class="fn">e</span>)</span>.<a href="../../.././Init/Control/State.html#StateT.run">run</a></span> <span class="fn">s</span></span></span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">xs</span> : <span class="fn">α</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">σ</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.tryCatch">MonadExceptOf.tryCatch</a> <span class="fn">x</span> <span class="fn">h</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.tryCatch_ExceptT_lift"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L318-L329">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.tryCatch_ExceptT_lift"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">tryCatch_ExceptT_lift</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α </span><span class="fn">ε'</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Control/Except.html#ExceptT">ExceptT</a> <span class="fn">ε'</span> <span class="fn">m</span> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">h</span> : <span class="fn"><span class="fn">ε</span> → <span class="fn"><a href="../../.././Init/Control/Except.html#ExceptT">ExceptT</a> <span class="fn">ε'</span> <span class="fn">m</span> <span class="fn">α</span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Basic.html#Std.Do.WP">WP</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf">MonadExceptOf</a> <span class="fn">ε</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">Q</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">α</span> <span class="fn">(<a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape.except">PostShape.except</a> <span class="fn">ε'</span> <span class="fn">ps</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">wp⟦</a><span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.tryCatch">MonadExceptOf.tryCatch</a> <span class="fn">x</span> <span class="fn">h</span></span><a href="../../.././Std/Do/PredTrans.html#Std.Do.PredTrans.apply">⟧</a>
    <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Except">Except</a> <span class="fn">ε'</span> <span class="fn">α</span></span>) =&gt;
      <span class="fn">match <span class="fn">x</span> with
      | <span class="fn"><a href="../../.././Init/Prelude.html#Except.ok">Except.ok</a> <span class="fn">a</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">a</span></span>
      | <span class="fn"><a href="../../.././Init/Prelude.html#Except.error">Except.error</a> <span class="fn">e</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">e</span></span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a>       <span class="fn"><span class="fn"><span class="fn">Q</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Prelude.html#MonadExceptOf.tryCatch">MonadExceptOf.tryCatch</a> <span class="fn">x</span> <span class="fn">h</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">Q</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="mod_doc"><h1 class="markdown-heading" id="ForIn"><code><a href="../../.././Init/Core.html#ForIn">ForIn</a></code> <a class="hover-link" href="#ForIn">#</a></h1></div><div class="decl" id="Std.Do.Invariant"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L333-L349">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Invariant"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Invariant</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a> u</div></div><p>The type of loop invariants used by the specifications of <code>for ... in ...</code> loops.
A loop invariant is a <code>PostCond</code> that takes as parameters</p><ul>
<li>A <code><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor">List.Cursor</a> xs</code> representing the iteration state of the loop. It is parameterized by the list
of elements <code>xs</code> that the <code>for</code> loop iterates over.</li>
<li>A state tuple of type <code>β</code>, which will be a nesting of <code><a href="../../.././Init/Prelude.html#MProd">MProd</a></code>s representing the elaboration of
<code>let mut</code> variables and early return.</li>
</ul><p>The loop specification lemmas will use this in the following way:
Before entering the loop, the zipper's prefix is empty and the suffix is <code>xs</code>.
After leaving the loop, the zipper's suffix is empty and the prefix is <code>xs</code>.
During the induction step, the invariant holds for a suffix with head element <code>x</code>.
After running the loop body, the invariant then holds after shifting <code>x</code> to the prefix.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Invariant">Std.Do.Invariant</a> <span class="fn">xs</span> <span class="fn">β</span> <span class="fn">ps</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">Std.Do.PostCond</a> (<span class="fn"><span class="fn">xs</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor">Cursor</a></span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn">β</span>) <span class="fn">ps</span></span></li></ul></details><details id="instances-for-list-Std.Do.Invariant" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Do.Invariant.withEarlyReturn"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L351-L377">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Invariant.withEarlyReturn"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Invariant</span>.<span class="name">withEarlyReturn</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α✝</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α✝</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β </span><span class="fn">γ</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">onContinue</span> : <span class="fn"><span class="fn"><span class="fn">xs</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor">Cursor</a></span> → <span class="fn"><span class="fn">β</span> → <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.Assertion">Assertion</a> <span class="fn">ps</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">onReturn</span> : <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn">β</span> → <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.Assertion">Assertion</a> <span class="fn">ps</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">onExcept</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.ExceptConds">ExceptConds</a> <span class="fn">ps</span></span> := <a href="../../.././Std/Do/PostCond.html#Std.Do.ExceptConds.false">ExceptConds.false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Invariant">Invariant</a> <span class="fn">xs</span> <span class="fn">(<a href="../../.././Init/Prelude.html#MProd">MProd</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Option">Option</a> <span class="fn">γ</span>)</span> <span class="fn">β</span>)</span> <span class="fn">ps</span></span></div></div><p>Helper definition for specifying loop invariants for loops with early return.</p><p><code>for ... in ...</code> loops with early return of type <code>γ</code> elaborate to a call like this:</p><pre><code class="language-lean">forIn (β := <a href="../../.././Init/Prelude.html#MProd">MProd</a> (Option γ) ...) (b := ⟨none, ...⟩) collection loopBody
</code></pre><p>Note that the first component of the <code><a href="../../.././Init/Prelude.html#MProd">MProd</a></code> state tuple is the optional early return value.
It is <code>none</code> as long as there was no early return and <code>some r</code> if the loop returned early with <code>r</code>.</p><p>This function allows to specify different invariants for the loop body depending on whether the loop
terminated early or not. When there was an early return, the loop has effectively finished, which is
encoded by the additional <code>⌜xs.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.suffix">suffix</a> = []⌝</code> assertion in the invariant. This assertion is vital for
successfully proving the induction step, as it contradicts with the assumption that
<code>xs.<a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.suffix">suffix</a> = x::rest</code> of the inductive hypothesis at the start of the loop body, meaning that users
won't need to prove anything about the bogus case where the loop has returned early yet takes
another iteration of the loop body.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Do.Invariant.withEarlyReturn" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Do.Spec.forIn'_list"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L379-L413">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.forIn'_list"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn'_list</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn">β</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn">(<span class="fn">a</span> : <span class="fn">α</span>) → <span class="fn"><span class="fn">a</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">xs</span> → <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span>)</span></span></span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">inv</span> : <span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Invariant">Invariant</a> <span class="fn">xs</span> <span class="fn">β</span> <span class="fn">ps</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">step</span> :
  <span class="fn">∀ (<span class="fn">pref</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">cur</span> : <span class="fn">α</span>) (<span class="fn">suff</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">h</span> : <span class="fn">xs</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>) (<span class="fn">b</span> : <span class="fn">β</span>),
    <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span>, <span class="fn">suffix</span> := <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>       <span class="fn"><span class="fn">f</span> <span class="fn">cur</span> <span class="fn">⋯</span> <span class="fn">b</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">r</span> : <span class="fn"><a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span></span>) =&gt;
        <span class="fn">match <span class="fn">r</span> with
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.yield">ForInStep.yield</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn">cur</span><a href="../../.././Init/Prelude.html#List.cons">]</a>, <span class="fn">suffix</span> := <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span>
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.done">ForInStep.done</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">xs</span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a>         <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">suffix</span> := <span class="fn">xs</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">init</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Core.html#ForIn'.forIn'">forIn'</a> <span class="fn">xs</span> <span class="fn">init</span> <span class="fn">f</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">b</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">xs</span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.forIn'_list_const_inv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L416-L426">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.forIn'_list_const_inv"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn'_list_const_inv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn">β</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn">(<span class="fn">a</span> : <span class="fn">α</span>) → <span class="fn"><span class="fn">a</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">xs</span> → <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span>)</span></span></span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">inv</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">β</span> <span class="fn">ps</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">step</span> :
  <span class="fn">∀ (<span class="fn">x</span> : <span class="fn">α</span>) (<span class="fn">hx</span> : <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">xs</span>) (<span class="fn">b</span> : <span class="fn">β</span>),
    <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">b</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>       <span class="fn"><span class="fn">f</span> <span class="fn">x</span> <span class="fn">hx</span> <span class="fn">b</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">r</span> : <span class="fn"><a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span></span>) =&gt;
        <span class="fn">match <span class="fn">r</span> with
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.yield">ForInStep.yield</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">b'</span></span>
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.done">ForInStep.done</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">b'</span></span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a>         <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">init</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Core.html#ForIn'.forIn'">forIn'</a> <span class="fn">xs</span> <span class="fn">init</span> <span class="fn">f</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">inv</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.forIn_list"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L428-L442">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.forIn_list"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn_list</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn">β</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span>)</span></span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">inv</span> : <span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Invariant">Invariant</a> <span class="fn">xs</span> <span class="fn">β</span> <span class="fn">ps</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">step</span> :
  <span class="fn">∀ (<span class="fn">pref</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">cur</span> : <span class="fn">α</span>) (<span class="fn">suff</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">h</span> : <span class="fn">xs</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>) (<span class="fn">b</span> : <span class="fn">β</span>),
    <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span>, <span class="fn">suffix</span> := <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>       <span class="fn"><span class="fn">f</span> <span class="fn">cur</span> <span class="fn">b</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">r</span> : <span class="fn"><a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span></span>) =&gt;
        <span class="fn">match <span class="fn">r</span> with
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.yield">ForInStep.yield</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn">cur</span><a href="../../.././Init/Prelude.html#List.cons">]</a>, <span class="fn">suffix</span> := <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span>
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.done">ForInStep.done</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">xs</span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a>         <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">suffix</span> := <span class="fn">xs</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">init</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Core.html#ForIn.forIn">forIn</a> <span class="fn">xs</span> <span class="fn">init</span> <span class="fn">f</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">b</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">xs</span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.forIn_list_const_inv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L445-L455">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.forIn_list_const_inv"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn_list_const_inv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn">β</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span>)</span></span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">inv</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">β</span> <span class="fn">ps</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">step</span> :
  <span class="fn">∀ (<span class="fn">hd</span> : <span class="fn">α</span>) (<span class="fn">b</span> : <span class="fn">β</span>),
    <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">b</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>       <span class="fn"><span class="fn">f</span> <span class="fn">hd</span> <span class="fn">b</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">r</span> : <span class="fn"><a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span></span>) =&gt;
        <span class="fn">match <span class="fn">r</span> with
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.yield">ForInStep.yield</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">b'</span></span>
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.done">ForInStep.done</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">b'</span></span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a>         <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">init</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Core.html#ForIn.forIn">forIn</a> <span class="fn">xs</span> <span class="fn">init</span> <span class="fn">f</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">inv</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.foldlM_list"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L457-L473">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.foldlM_list"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">foldlM_list</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn">β</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">α</span> → <span class="fn"><span class="fn">m</span> <span class="fn">β</span></span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">inv</span> : <span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Invariant">Invariant</a> <span class="fn">xs</span> <span class="fn">β</span> <span class="fn">ps</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">step</span> :
  <span class="fn">∀ (<span class="fn">pref</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">cur</span> : <span class="fn">α</span>) (<span class="fn">suff</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">h</span> : <span class="fn">xs</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>) (<span class="fn">b</span> : <span class="fn">β</span>),
    <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span>, <span class="fn">suffix</span> := <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>       <span class="fn"><span class="fn">f</span> <span class="fn">b</span> <span class="fn">cur</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">b'</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn">cur</span><a href="../../.././Init/Prelude.html#List.cons">]</a>, <span class="fn">suffix</span> := <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">suffix</span> := <span class="fn">xs</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">init</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Data/List/Control.html#List.foldlM">List.foldlM</a> <span class="fn">f</span> <span class="fn">init</span> <span class="fn">xs</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">b</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">xs</span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.foldlM_list_const_inv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L476-L486">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.foldlM_list_const_inv"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">foldlM_list_const_inv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn">β</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">α</span> → <span class="fn"><span class="fn">m</span> <span class="fn">β</span></span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">inv</span> : <span class="fn"><a href="../../.././Std/Do/PostCond.html#Std.Do.PostCond">PostCond</a> <span class="fn">β</span> <span class="fn">ps</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">step</span> : <span class="fn">∀ (<span class="fn">hd</span> : <span class="fn">α</span>) (<span class="fn">b</span> : <span class="fn">β</span>), <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">b</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><span class="fn">f</span> <span class="fn">b</span> <span class="fn">hd</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">b'</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">b'</span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <span class="fn">init</span></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a> <span class="fn"><a href="../../.././Init/Data/List/Control.html#List.foldlM">List.foldlM</a> <span class="fn">f</span> <span class="fn">init</span> <span class="fn">xs</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn">inv</span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.forIn'_range"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L488-L502">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.forIn'_range"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn'_range</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <a href="../../.././Init/Data/Range/Basic.html#Std.Range">Range</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn">β</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn">(<span class="fn">a</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) → <span class="fn"><span class="fn">a</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">xs</span> → <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span>)</span></span></span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">inv</span> : <span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Invariant">Invariant</a> <span class="fn"><span class="fn">xs</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Range.toList">toList</a></span> <span class="fn">β</span> <span class="fn">ps</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">step</span> :
  <span class="fn">∀ (<span class="fn">pref</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) (<span class="fn">cur</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) (<span class="fn">suff</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) (<span class="fn">h</span> : <span class="fn"><span class="fn">xs</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Range.toList">toList</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>) (<span class="fn">b</span> : <span class="fn">β</span>),
    <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span>, <span class="fn">suffix</span> := <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>       <span class="fn"><span class="fn">f</span> <span class="fn">cur</span> <span class="fn">⋯</span> <span class="fn">b</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">r</span> : <span class="fn"><a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span></span>) =&gt;
        <span class="fn">match <span class="fn">r</span> with
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.yield">ForInStep.yield</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn">cur</span><a href="../../.././Init/Prelude.html#List.cons">]</a>, <span class="fn">suffix</span> := <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span>
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.done">ForInStep.done</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Range.toList">toList</a></span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a>         <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">suffix</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Range.toList">toList</a></span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">init</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Core.html#ForIn'.forIn'">forIn'</a> <span class="fn">xs</span> <span class="fn">init</span> <span class="fn">f</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">b</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Range.toList">toList</a></span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.forIn_range"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L504-L518">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.forIn_range"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn_range</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <a href="../../.././Init/Data/Range/Basic.html#Std.Range">Range</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn">β</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span>)</span></span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">inv</span> : <span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Invariant">Invariant</a> <span class="fn"><span class="fn">xs</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Range.toList">toList</a></span> <span class="fn">β</span> <span class="fn">ps</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">step</span> :
  <span class="fn">∀ (<span class="fn">pref</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) (<span class="fn">cur</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>) (<span class="fn">suff</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span>) (<span class="fn">h</span> : <span class="fn"><span class="fn">xs</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Range.toList">toList</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>) (<span class="fn">b</span> : <span class="fn">β</span>),
    <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span>, <span class="fn">suffix</span> := <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>       <span class="fn"><span class="fn">f</span> <span class="fn">cur</span> <span class="fn">b</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">r</span> : <span class="fn"><a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span></span>) =&gt;
        <span class="fn">match <span class="fn">r</span> with
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.yield">ForInStep.yield</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn">cur</span><a href="../../.././Init/Prelude.html#List.cons">]</a>, <span class="fn">suffix</span> := <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span>
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.done">ForInStep.done</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Range.toList">toList</a></span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a>         <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">suffix</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Range.toList">toList</a></span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">init</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Core.html#ForIn.forIn">forIn</a> <span class="fn">xs</span> <span class="fn">init</span> <span class="fn">f</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">b</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Range.toList">toList</a></span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.forIn'_prange"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L521-L539">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.forIn'_prange"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn'_prange</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">su </span><span class="fn">sl</span> : <a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.BoundShape">PRange.BoundShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/UpwardEnumerable.html#Std.PRange.UpwardEnumerable">PRange.UpwardEnumerable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.SupportsUpperBound">PRange.SupportsUpperBound</a> <span class="fn">su</span> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.SupportsLowerBound">PRange.SupportsLowerBound</a> <span class="fn">sl</span> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.HasFiniteRanges">PRange.HasFiniteRanges</a> <span class="fn">su</span> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.BoundedUpwardEnumerable">PRange.BoundedUpwardEnumerable</a> <span class="fn">sl</span> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/UpwardEnumerable.html#Std.PRange.LawfulUpwardEnumerable">PRange.LawfulUpwardEnumerable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.LawfulUpwardEnumerableLowerBound">PRange.LawfulUpwardEnumerableLowerBound</a> <span class="fn">sl</span> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.LawfulUpwardEnumerableUpperBound">PRange.LawfulUpwardEnumerableUpperBound</a> <span class="fn">su</span> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange">PRange</a> <a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.RangeShape.mk">{</a> <span class="fn">lower</span> := <span class="fn">sl</span>, <span class="fn">upper</span> := <span class="fn">su</span> <a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.RangeShape.mk">}</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn">β</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn">(<span class="fn">a</span> : <span class="fn">α</span>) → <span class="fn"><span class="fn">a</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">xs</span> → <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span>)</span></span></span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">inv</span> : <span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Invariant">Invariant</a> <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Data/Range/Polymorphic/Iterators.html#Std.PRange.toList">toList</a></span> <span class="fn">β</span> <span class="fn">ps</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">step</span> :
  <span class="fn">∀ (<span class="fn">pref</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">cur</span> : <span class="fn">α</span>) (<span class="fn">suff</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">h</span> : <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Data/Range/Polymorphic/Iterators.html#Std.PRange.toList">toList</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>) (<span class="fn">b</span> : <span class="fn">β</span>),
    <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span>, <span class="fn">suffix</span> := <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>       <span class="fn"><span class="fn">f</span> <span class="fn">cur</span> <span class="fn">⋯</span> <span class="fn">b</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">r</span> : <span class="fn"><a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span></span>) =&gt;
        <span class="fn">match <span class="fn">r</span> with
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.yield">ForInStep.yield</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn">cur</span><a href="../../.././Init/Prelude.html#List.cons">]</a>, <span class="fn">suffix</span> := <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span>
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.done">ForInStep.done</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Data/Range/Polymorphic/Iterators.html#Std.PRange.toList">toList</a></span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a>         <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">suffix</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Data/Range/Polymorphic/Iterators.html#Std.PRange.toList">toList</a></span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">init</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Core.html#ForIn'.forIn'">forIn'</a> <span class="fn">xs</span> <span class="fn">init</span> <span class="fn">f</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">b</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Data/Range/Polymorphic/Iterators.html#Std.PRange.toList">toList</a></span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.forIn_prange"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L542-L560">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.forIn_prange"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn_prange</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">su </span><span class="fn">sl</span> : <a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.BoundShape">PRange.BoundShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/UpwardEnumerable.html#Std.PRange.UpwardEnumerable">PRange.UpwardEnumerable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.SupportsUpperBound">PRange.SupportsUpperBound</a> <span class="fn">su</span> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.SupportsLowerBound">PRange.SupportsLowerBound</a> <span class="fn">sl</span> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.HasFiniteRanges">PRange.HasFiniteRanges</a> <span class="fn">su</span> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.BoundedUpwardEnumerable">PRange.BoundedUpwardEnumerable</a> <span class="fn">sl</span> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/UpwardEnumerable.html#Std.PRange.LawfulUpwardEnumerable">PRange.LawfulUpwardEnumerable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.LawfulUpwardEnumerableLowerBound">PRange.LawfulUpwardEnumerableLowerBound</a> <span class="fn">sl</span> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.LawfulUpwardEnumerableUpperBound">PRange.LawfulUpwardEnumerableUpperBound</a> <span class="fn">su</span> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange">PRange</a> <a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.RangeShape.mk">{</a> <span class="fn">lower</span> := <span class="fn">sl</span>, <span class="fn">upper</span> := <span class="fn">su</span> <a href="../../.././Init/Data/Range/Polymorphic/PRange.html#Std.PRange.RangeShape.mk">}</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn">β</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span>)</span></span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">inv</span> : <span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Invariant">Invariant</a> <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Data/Range/Polymorphic/Iterators.html#Std.PRange.toList">toList</a></span> <span class="fn">β</span> <span class="fn">ps</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">step</span> :
  <span class="fn">∀ (<span class="fn">pref</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">cur</span> : <span class="fn">α</span>) (<span class="fn">suff</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">h</span> : <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Data/Range/Polymorphic/Iterators.html#Std.PRange.toList">toList</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>) (<span class="fn">b</span> : <span class="fn">β</span>),
    <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span>, <span class="fn">suffix</span> := <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>       <span class="fn"><span class="fn">f</span> <span class="fn">cur</span> <span class="fn">b</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">r</span> : <span class="fn"><a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span></span>) =&gt;
        <span class="fn">match <span class="fn">r</span> with
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.yield">ForInStep.yield</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn">cur</span><a href="../../.././Init/Prelude.html#List.cons">]</a>, <span class="fn">suffix</span> := <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span>
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.done">ForInStep.done</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Data/Range/Polymorphic/Iterators.html#Std.PRange.toList">toList</a></span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a>         <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">suffix</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Data/Range/Polymorphic/Iterators.html#Std.PRange.toList">toList</a></span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">init</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Core.html#ForIn.forIn">forIn</a> <span class="fn">xs</span> <span class="fn">init</span> <span class="fn">f</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">b</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Data/Range/Polymorphic/Iterators.html#Std.PRange.toList">toList</a></span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.forIn'_array"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L562-L577">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.forIn'_array"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn'_array</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn">β</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn">(<span class="fn">a</span> : <span class="fn">α</span>) → <span class="fn"><span class="fn">a</span> <a href="../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">xs</span> → <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span>)</span></span></span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">inv</span> : <span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Invariant">Invariant</a> <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Array.toList">toList</a></span> <span class="fn">β</span> <span class="fn">ps</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">step</span> :
  <span class="fn">∀ (<span class="fn">pref</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">cur</span> : <span class="fn">α</span>) (<span class="fn">suff</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">h</span> : <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Array.toList">toList</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>) (<span class="fn">b</span> : <span class="fn">β</span>),
    <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span>, <span class="fn">suffix</span> := <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>       <span class="fn"><span class="fn">f</span> <span class="fn">cur</span> <span class="fn">⋯</span> <span class="fn">b</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">r</span> : <span class="fn"><a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span></span>) =&gt;
        <span class="fn">match <span class="fn">r</span> with
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.yield">ForInStep.yield</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn">cur</span><a href="../../.././Init/Prelude.html#List.cons">]</a>, <span class="fn">suffix</span> := <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span>
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.done">ForInStep.done</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Array.toList">toList</a></span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a>         <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">suffix</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Array.toList">toList</a></span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">init</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Core.html#ForIn'.forIn'">forIn'</a> <span class="fn">xs</span> <span class="fn">init</span> <span class="fn">f</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">b</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Array.toList">toList</a></span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.forIn_array"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L579-L594">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.forIn_array"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">forIn_array</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn">β</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span>)</span></span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">inv</span> : <span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Invariant">Invariant</a> <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Array.toList">toList</a></span> <span class="fn">β</span> <span class="fn">ps</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">step</span> :
  <span class="fn">∀ (<span class="fn">pref</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">cur</span> : <span class="fn">α</span>) (<span class="fn">suff</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">h</span> : <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Array.toList">toList</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>) (<span class="fn">b</span> : <span class="fn">β</span>),
    <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span>, <span class="fn">suffix</span> := <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>       <span class="fn"><span class="fn">f</span> <span class="fn">cur</span> <span class="fn">b</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">r</span> : <span class="fn"><a href="../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β</span></span>) =&gt;
        <span class="fn">match <span class="fn">r</span> with
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.yield">ForInStep.yield</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn">cur</span><a href="../../.././Init/Prelude.html#List.cons">]</a>, <span class="fn">suffix</span> := <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span>
        | <span class="fn"><a href="../../.././Init/Core.html#ForInStep.done">ForInStep.done</a> <span class="fn">b'</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Array.toList">toList</a></span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a>         <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">suffix</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Array.toList">toList</a></span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">init</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Core.html#ForIn.forIn">forIn</a> <span class="fn">xs</span> <span class="fn">init</span> <span class="fn">f</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">b</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Array.toList">toList</a></span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div><div class="decl" id="Std.Do.Spec.foldlM_array"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/797c613eb9b6d4ec95db23e3e00af9ac6657f24b/src/Std/Do/Triple/SpecLemmas.lean#L596-L609">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Spec.foldlM_array"><span class="name">Std</span>.<span class="name">Do</span>.<span class="name">Spec</span>.<span class="name">foldlM_array</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> u → <a href="../../.././foundational_types.html">Type</a> v</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ps</span> : <a href="../../.././Std/Do/PostCond.html#Std.Do.PostShape">PostShape</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Std/Do/WP/Monad.html#Std.Do.WPMonad">WPMonad</a> <span class="fn">m</span> <span class="fn">ps</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">xs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">init</span> : <span class="fn">β</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">α</span> → <span class="fn"><span class="fn">m</span> <span class="fn">β</span></span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">inv</span> : <span class="fn"><a href="../../.././Std/Do/Triple/SpecLemmas.html#Std.Do.Invariant">Invariant</a> <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Array.toList">toList</a></span> <span class="fn">β</span> <span class="fn">ps</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">step</span> :
  <span class="fn">∀ (<span class="fn">pref</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">cur</span> : <span class="fn">α</span>) (<span class="fn">suff</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <span class="fn">α</span></span>) (<span class="fn">h</span> : <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Array.toList">toList</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>) (<span class="fn">b</span> : <span class="fn">β</span>),
    <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span>, <span class="fn">suffix</span> := <span class="fn">cur</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>       <span class="fn"><span class="fn">f</span> <span class="fn">b</span> <span class="fn">cur</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">b'</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn">pref</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn">cur</span><a href="../../.././Init/Prelude.html#List.cons">]</a>, <span class="fn">suffix</span> := <span class="fn">suff</span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b'</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">suffix</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Array.toList">toList</a></span>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">init</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a>   <span class="fn"><a href="../../.././Init/Data/Array/Basic.html#Array.foldlM">Array.foldlM</a> <span class="fn">f</span> <span class="fn">init</span> <span class="fn">xs</span></span> <a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦃</a><a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">fun (<span class="fn">b</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.fst">fst</a></span> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">{</a> <span class="fn">«prefix»</span> := <span class="fn"><span class="fn">xs</span>.<a href="../../.././Init/Prelude.html#Array.toList">toList</a></span>, <span class="fn">suffix</span> := <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a>, <span class="fn">property</span> := <span class="fn">⋯</span> <a href="../../.././Std/Do/Triple/SpecLemmas.html#List.Cursor.mk">}</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn">inv</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a><a href="../../.././Std/Do/Triple/Basic.html#Std.Do.Triple">⦄</a></div></div></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>